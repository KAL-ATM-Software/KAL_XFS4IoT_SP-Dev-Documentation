<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>

  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Class DispenseCommand.PayloadData
 | XFS4IoT-SP-Dev </title>
    <meta name="viewport" content="width=device-width">
    <meta name="title" content="Class DispenseCommand.PayloadData
 | XFS4IoT-SP-Dev ">
    <meta name="generator" content="docfx ">
  
    <link rel="shortcut icon" href="../favicon.ico">
    <link rel="stylesheet" href="../styles/docfx.vendor.css">
    <link rel="stylesheet" href="../styles/docfx.css">
    <link rel="stylesheet" href="../styles/main.css">
    <meta property="docfx:navrel" content="../toc.html">
    <meta property="docfx:tocrel" content="toc.html">
  
  <meta property="docfx:rel" content="../">
  
  </head>
  <body data-spy="scroll" data-target="#affix" data-offset="120">
    <div id="wrapper">
      <header>

        <nav id="autocollapse" class="navbar navbar-inverse ng-scope" role="navigation">
          <div class="container">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>


              <a class="navbar-brand" href="../index.html">
              <img id="logo" class="svg" src="https://www.kal.com/images/kal-logo.svg" alt="">
              </a>

            </div>
            <div class="collapse navbar-collapse" id="navbar">
              <form class="navbar-form navbar-right" role="search" id="search">
                <div class="form-group">
                  <input type="text" class="form-control" id="search-query" placeholder="Search" autocomplete="off">
                </div>
              </form>
            </div>
          </div>
        </nav>

        <div class="subnav navbar navbar-default">
          <div class="container hide-when-search" id="breadcrumb">
            <ul class="breadcrumb">
              <li></li>
            </ul>
          </div>
        </div>
      </header>
      <div class="container body-content">

        <div id="search-results">
          <div class="search-list">Search Results for <span></span></div>
          <div class="sr-items">
            <p><i class="glyphicon glyphicon-refresh index-loading"></i></p>
          </div>
          <ul id="pagination" data-first="First" data-prev="Previous" data-next="Next" data-last="Last"></ul>
        </div>
      </div>
      <div role="main" class="container body-content hide-when-search">

        <div class="sidenav hide-when-search">
          <a class="btn toc-toggle collapse" data-toggle="collapse" href="#sidetoggle" aria-expanded="false" aria-controls="sidetoggle">Show / Hide Table of Contents</a>
          <div class="sidetoggle collapse" id="sidetoggle">
            <div id="sidetoc"></div>
          </div>
        </div>
        <div class="article row grid-right">
          <div class="col-md-10">
            <article class="content wrap" id="_content" data-uid="XFS4IoT.CashDispenser.Commands.DispenseCommand.PayloadData">


  <h1 id="XFS4IoT_CashDispenser_Commands_DispenseCommand_PayloadData" data-uid="XFS4IoT.CashDispenser.Commands.DispenseCommand.PayloadData" class="text-break">Class DispenseCommand.PayloadData
</h1>
  <div class="markdown level0 summary"></div>
  <div class="markdown level0 conceptual"></div>
  <div class="inheritance">
    <h5>Inheritance</h5>
    <div class="level0"><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.object">object</a></div>
    <div class="level1"><a class="xref" href="XFS4IoT.MessagePayloadBase.html">MessagePayloadBase</a></div>
    <div class="level2"><a class="xref" href="XFS4IoT.Commands.MessagePayload.html">MessagePayload</a></div>
    <div class="level3"><span class="xref">DispenseCommand.PayloadData</span></div>
  </div>
  <div class="inheritedMembers">
    <h5>Inherited Members</h5>
    <div>
      <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.object.equals#system-object-equals(system-object)">object.Equals(object)</a>
    </div>
    <div>
      <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.object.equals#system-object-equals(system-object-system-object)">object.Equals(object, object)</a>
    </div>
    <div>
      <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.object.gethashcode">object.GetHashCode()</a>
    </div>
    <div>
      <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.object.gettype">object.GetType()</a>
    </div>
    <div>
      <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.object.referenceequals">object.ReferenceEquals(object, object)</a>
    </div>
    <div>
      <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.object.tostring">object.ToString()</a>
    </div>
  </div>
  <h6><strong>Namespace</strong>: <a class="xref" href="XFS4IoT.html">XFS4IoT</a>.<a class="xref" href="XFS4IoT.CashDispenser.html">CashDispenser</a>.<a class="xref" href="XFS4IoT.CashDispenser.Commands.html">Commands</a></h6>
  <h6><strong>Assembly</strong>: XFS4IoT.SP.Framework.Core.dll</h6>
  <h5 id="XFS4IoT_CashDispenser_Commands_DispenseCommand_PayloadData_syntax">Syntax</h5>
  <div class="codewrapper">
    <pre><code class="lang- hljs">[DataContract]
public sealed class DispenseCommand.PayloadData : MessagePayload</code></pre>
  </div>
  <h3 id="constructors">Constructors
</h3>


  <a id="XFS4IoT_CashDispenser_Commands_DispenseCommand_PayloadData__ctor_" data-uid="XFS4IoT.CashDispenser.Commands.DispenseCommand.PayloadData.#ctor*"></a>
  <h4 id="XFS4IoT_CashDispenser_Commands_DispenseCommand_PayloadData__ctor_XFS4IoT_CashDispenser_DenominateRequestClass_System_Nullable_XFS4IoT_CashManagement_OutputPositionEnum__System_String_" data-uid="XFS4IoT.CashDispenser.Commands.DispenseCommand.PayloadData.#ctor(XFS4IoT.CashDispenser.DenominateRequestClass,System.Nullable{XFS4IoT.CashManagement.OutputPositionEnum},System.String)">PayloadData(DenominateRequestClass, OutputPositionEnum?, string)</h4>
  <div class="markdown level1 summary"></div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang- hljs">public PayloadData(DenominateRequestClass Denomination = null, OutputPositionEnum? Position = null, string Token = null)</code></pre>
  </div>
  <h5 class="parameters">Parameters</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Name</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><a class="xref" href="XFS4IoT.CashDispenser.DenominateRequestClass.html">DenominateRequestClass</a></td>
        <td><span class="parametername">Denomination</span></td>
        <td></td>
      </tr>
      <tr>
        <td><a class="xref" href="XFS4IoT.CashManagement.OutputPositionEnum.html">OutputPositionEnum</a>?</td>
        <td><span class="parametername">Position</span></td>
        <td></td>
      </tr>
      <tr>
        <td><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.string">string</a></td>
        <td><span class="parametername">Token</span></td>
        <td></td>
      </tr>
    </tbody>
  </table>
  <h3 id="properties">Properties
</h3>


  <a id="XFS4IoT_CashDispenser_Commands_DispenseCommand_PayloadData_Denomination_" data-uid="XFS4IoT.CashDispenser.Commands.DispenseCommand.PayloadData.Denomination*"></a>
  <h4 id="XFS4IoT_CashDispenser_Commands_DispenseCommand_PayloadData_Denomination" data-uid="XFS4IoT.CashDispenser.Commands.DispenseCommand.PayloadData.Denomination">Denomination</h4>
  <div class="markdown level1 summary"><p>Denomination object describing the contents of the dispense operation.</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang- hljs">[DataMember(Name = &quot;denomination&quot;)]
public DenominateRequestClass Denomination { get; init; }</code></pre>
  </div>
  <h5 class="propertyValue">Property Value</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><a class="xref" href="XFS4IoT.CashDispenser.DenominateRequestClass.html">DenominateRequestClass</a></td>
        <td></td>
      </tr>
    </tbody>
  </table>


  <a id="XFS4IoT_CashDispenser_Commands_DispenseCommand_PayloadData_Position_" data-uid="XFS4IoT.CashDispenser.Commands.DispenseCommand.PayloadData.Position*"></a>
  <h4 id="XFS4IoT_CashDispenser_Commands_DispenseCommand_PayloadData_Position" data-uid="XFS4IoT.CashDispenser.Commands.DispenseCommand.PayloadData.Position">Position</h4>
  <div class="markdown level1 summary"></div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang- hljs">[DataMember(Name = &quot;position&quot;)]
public OutputPositionEnum? Position { get; init; }</code></pre>
  </div>
  <h5 class="propertyValue">Property Value</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><a class="xref" href="XFS4IoT.CashManagement.OutputPositionEnum.html">OutputPositionEnum</a>?</td>
        <td></td>
      </tr>
    </tbody>
  </table>


  <a id="XFS4IoT_CashDispenser_Commands_DispenseCommand_PayloadData_Token_" data-uid="XFS4IoT.CashDispenser.Commands.DispenseCommand.PayloadData.Token*"></a>
  <h4 id="XFS4IoT_CashDispenser_Commands_DispenseCommand_PayloadData_Token" data-uid="XFS4IoT.CashDispenser.Commands.DispenseCommand.PayloadData.Token">Token</h4>
  <div class="markdown level1 summary"><p>The dispense token that authorizes the dispense operation, as created by the authorizing host. See
the section on <a href="#api.e2esecurity">end-to-end security</a> for more information.</p>
<p>The same token may be used multiple times with multiple calls to the <a href="#cashdispenser.dispense">CashDispenser.Dispense</a> and
<a href="#cashdispenser.present">CashDispenser.Present</a> commands, as long as the total value stacked does not exceed the value given in the
token. The hardware will track the total value of the cash and will raise an <em>invalidToken</em> error for any
attempt to dispense or present more cash than authorized by the token.</p>
<p>The token contains a nonce returned by <a href="#common.getcommandnonce">Common.GetCommandNonce</a> which must match
the nonce stored in the hardware. The nonce value stored in the hardware will be cleared automatically at
various times, meaning that all tokens will become invalid.</p>
<p>The hardware will also track the token being used and block any attempt to use multiple tokens with the
same nonce. The same token must be used for all calls to dispense, until the nonce is cleared and a new
nonce and token is created. Any attempt to use a different token will trigger an <em>invalidToken</em> error.</p>
<p>For maximum security the client should also explicitly clear the command nonce (and hence invalidate and
existing tokens,) with the <a href="#common.clearcommandnonce">Common.ClearCommandNonce</a> command as soon as it's
finished using the current token.</p>
<p>The dispense token will follow the standard token format, and will contain the standard keys plus the
following key:</p>
<p><code>DISPENSE1</code>: The maximum value to be dispensed. This will be a number string that may contain a
fractional part. The decimal character will be &quot;.&quot;. The value, including the fractional part, will be
defined by the ISO 4217 currency identifier [<a href="#ref-cashdispenser-1">Ref. cashdispenser-1</a>].
The number will be followed by the ISO 4217 currency code. The currency code will be upper case.</p>
<p>For example, &quot;123.45EUR&quot; will be €123 and 45 cents.</p>
<p>The &quot;DISPENSE&quot; key may appear multiple times with a number suffix. For example, DISPENSE1, DISPENSE2,
DISPENSE3. The number will start at 1 and increment. Each key can only be given once. Each key must
have a value in a different currency. For example, DISPENSE1=100.00EUR,DISPENSE2=200.00USD</p>
<p>The actual amount dispensed will be given by the denomination. The value in the token MUST be
greater or equal to the amount in the <em>denomination</em> property. If the Token has a lower value,
or the Token is invalid for any reason, then the command will fail with an invalid data error code.</p>
<p>Example token is as follows:</p>
<pre><code>NONCE=254611E63B2531576314E86527338D61,TOKENFORMAT=1,TOKENLENGTH=0164,DISPENSE1=50.00EUR,HMACSHA256=CB735612FD6141213C2827FB5A6A4F4846D7A7347B15434916FEA6AC16F3D2F2
</code></pre>
<p><example>NONCE=254611E63B2531576314E86527338D61, ...</example></p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang- hljs">[DataMember(Name = &quot;token&quot;)]
public string Token { get; init; }</code></pre>
  </div>
  <h5 class="propertyValue">Property Value</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.string">string</a></td>
        <td></td>
      </tr>
    </tbody>
  </table>
  <h3 id="extensionmethods">Extension Methods</h3>
  <div>
      <a class="xref" href="XFS4IoT.Contracts.html#XFS4IoT_Contracts_IsA__1_System_Object_System_String_System_String_">Contracts.IsA&lt;T&gt;(object, string, string)</a>
  </div>
  <div>
      <a class="xref" href="XFS4IoT.Contracts.html#XFS4IoT_Contracts_Ignore__1___0_">Contracts.Ignore&lt;T&gt;(T)</a>
  </div>
  <div>
      <a class="xref" href="XFS4IoT.Contracts.html#XFS4IoT_Contracts_IsNotNull__1___0_System_String_System_String_">Contracts.IsNotNull&lt;T&gt;(T, string, string)</a>
  </div>
  <div>
      <a class="xref" href="XFS4IoT.Contracts.html#XFS4IoT_Contracts_IsNull__1___0_System_String_System_String_">Contracts.IsNull&lt;T&gt;(T, string, string)</a>
  </div>
  <div>
      <a class="xref" href="XFS4IoT.Contracts.html#XFS4IoT_Contracts_Is__1___0_System_Boolean_System_String_">Contracts.Is&lt;T&gt;(T, bool, string)</a>
  </div>
</article>
          </div>

          <div class="hidden-sm col-md-2" role="complementary">
            <div class="sideaffix">
              <div class="contribution">
                <ul class="nav">
                </ul>
              </div>
              <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix" id="affix">
                <h5>In This Article</h5>
                <div></div>
              </nav>
            </div>
          </div>
        </div>
      </div>

      <footer>
        <div class="grad-bottom"></div>
        <div class="footer">
          <div class="container">
            <span class="pull-right">
              <a href="#top">Back to top</a>
            </span>
      
      <span>Created by <strong>KAL ATM Software GmbH</strong></span>
          </div>
        </div>
      </footer>
    </div>

    <script type="text/javascript" src="../styles/docfx.vendor.js"></script>
    <script type="text/javascript" src="../styles/docfx.js"></script>
    <script type="text/javascript" src="../styles/main.js"></script>
  </body>
</html>
